# Изменения настроек таймаута

## Обзор изменений

Внесены изменения для увеличения времени ожидания ответа от LLM до 10 минут (600 секунд) во всех частях приложения.

## Измененные файлы

### 1. Frontend (React) - `frontend/src/services/api.js`
- **Добавлен**: Таймаут 10 минут для всех fetch запросов
- **Реализация**: Использование AbortController с setTimeout
- **Обработка ошибок**: Специальное сообщение для таймаута на русском языке

### 2. Streamlit App (базовый) - `streamlit_frontend/app.py`
- **Health check**: Увеличен с 5s до 30s
- **API запросы**: Уже установлен 600s (10 минут)

### 3. Streamlit App (продвинутый) - `streamlit_frontend/app_advanced.py`
- **Health check**: Увеличен с 5s до 30s
- **Статистика системы**: Увеличен с 10s до 60s
- **Информация о системе**: Увеличен с 10s до 60s
- **API запросы**: Увеличен с 30s до 600s (10 минут)
- **Поиск похожих документов**: Увеличен с 15s до 600s (10 минут)

### 4. Backend - `backend/app/rag_system.py`
- **LLM таймаут**: Уже установлен 600s (10 минут)

### 5. Docker - `docker-compose.yml`
- **Health check таймаут**: Увеличен с 10s до 30s

## Текущие настройки таймаута

| Компонент | Таймаут | Описание |
|-----------|---------|----------|
| LLM запросы | 600s (10 мин) | Основные запросы к языковой модели |
| Health checks | 30s | Проверка состояния сервисов |
| Статистика/информация | 60s | Получение системной информации |
| Docker healthcheck | 30s | Проверка состояния контейнеров |

## Преимущества изменений

1. **Устранение ошибок таймаута**: Приложение теперь ждет ответ от LLM до 10 минут
2. **Улучшенный UX**: Пользователи не получают ошибки таймаута при длительных запросах
3. **Консистентность**: Все компоненты используют согласованные настройки таймаута
4. **Обработка ошибок**: Добавлены информативные сообщения об ошибках на русском языке

## Тестирование

Для проверки изменений:

1. **Frontend**: Отправьте сложный запрос и убедитесь, что приложение ждет ответ до 10 минут
2. **Streamlit**: Проверьте работу обоих приложений с длительными запросами
3. **Docker**: Убедитесь, что healthcheck работает корректно с новым таймаутом

## Примечания

- Таймаут 10 минут достаточен для большинства запросов к LLM
- При необходимости можно увеличить таймаут еще больше, изменив значение 600 на большее
- Все изменения обратно совместимы и не влияют на быстрые запросы 